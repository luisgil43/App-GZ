{% load static %}
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Galería — Geo Cam</title>
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter;background:#0b1220;color:#e2e8f0}
    header{position:sticky;top:0;background:#0b1220;border-bottom:1px solid #1f2a44;padding:12px 16px;display:flex;gap:12px;align-items:center}
    a.back{display:inline-flex;gap:8px;align-items:center;color:#93c5fd;text-decoration:none}
    .grid{padding:16px;display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}
    figure{background:#0f172a;border:1px solid #1f2a44;border-radius:12px;padding:8px}
    img{width:100%;height:140px;object-fit:cover;border-radius:8px}
    figcaption{font-size:12px;margin-top:6px;color:#94a3b8}
  </style>
</head>
<body>
<header>
  <a href="{% url 'geo_cam:capture' %}" class="back" aria-label="Volver a cámara">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 18l-6-6 6-6"></path>
    </svg>
    Cámara
  </a>
  <h1 style="margin:0;font-size:16px;font-weight:700;">Tu galería</h1>
</header>

<main class="grid">
  {% for p in photos %}
    <figure>
      <img src="{{ p.image.url }}" alt="foto {{ forloop.counter }}">
      <figcaption>
        {{ p.titulo_manual|default:"—" }}<br>
        {{ p.created_at|date:"Y-m-d H:i" }}<br>
        {% if p.lat and p.lng %}Lat {{ p.lat }} · Long {{ p.lng }}{% endif %}
      </figcaption>
    </figure>
  {% empty %}
    <div style="grid-column:1/-1;color:#94a3b8;">Aún no hay fotos.</div>
  {% endfor %}
</main>
</body>
</html>